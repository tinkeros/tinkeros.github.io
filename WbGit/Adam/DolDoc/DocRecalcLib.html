<!DOCTYPE HTML>
<html style="background-color:#FFFFFF;">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=US-ASCII">
<title>The Temple Operating System</title>
<meta name="keywords" content="Operating System,64-Bit,64 Bit,Temple,OS,TempleOS,Free,Open Source,Public Domain,x86_64">
<meta name="generator" content="TinkerOS V5.09">
<style type="text/css">
.cB0{color:#000000;background-color:#55ffff;}
.cB1{color:#0000aa;background-color:#55ffff;}
.cB2{color:#00aa00;background-color:#55ffff;}
.cB3{color:#00aaaa;background-color:#55ffff;}
.cB4{color:#aa0000;background-color:#55ffff;}
.cB5{color:#aa00aa;background-color:#55ffff;}
.cB6{color:#aa5500;background-color:#55ffff;}
.cB7{color:#aaaaaa;background-color:#55ffff;}
.cB9{color:#5555ff;background-color:#55ffff;}
.cF0{color:#000000;background-color:#ffffff;}
.cF1{color:#0000aa;background-color:#ffffff;}
.cF2{color:#00aa00;background-color:#ffffff;}
.cF3{color:#00aaaa;background-color:#ffffff;}
.cF4{color:#aa0000;background-color:#ffffff;}
.cF5{color:#aa00aa;background-color:#ffffff;}
.cF6{color:#aa5500;background-color:#ffffff;}
.cF7{color:#aaaaaa;background-color:#ffffff;}
.cF8{color:#555555;background-color:#ffffff;}
.cF9{color:#5555ff;background-color:#ffffff;}
.cFA{color:#55ff55;background-color:#ffffff;}
.cFB{color:#55ffff;background-color:#ffffff;}
.cFC{color:#ff5555;background-color:#ffffff;}
.cFD{color:#ff55ff;background-color:#ffffff;}
.cFE{color:#ffff55;background-color:#ffffff;}
.cFF{color:#ffffff;background-color:#ffffff;}
</style>
</head>
<body style="background-color:#55FFFF; border-style:solid;
	  border-width:8px; border-color:#0000AA;
	  margin-left:auto; margin-right:auto; width:800px; ">
<pre style="font-family:courier;font-size:10pt">
<div style="margin-left:auto; margin-right:auto; width: 640px;">
<a name="l1"></a><span class=cB0>#</span><span class=cB1>help_index</span><span class=cB0> </span><span class=cB6>&quot;DolDoc&quot;</span><span class=cB0>
<a name="l2"></a>
<a name="l3"></a></span><span class=cB9>I64</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l3"></span><span class=cB5>DocCharDist</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc,</span><span class=cB9>I64</span><span class=cB0> x,</span><span class=cB9>I64</span><span class=cB0> y)
<a name="l4"></a>{
<a name="l5"></a>#</span><span class=cB1>assert</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4298"></span><span class=cB3>FONT_WIDTH</a></span><span class=cB0>==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4299"></span><span class=cB3>FONT_HEIGHT</a></span><span class=cB0>
<a name="l6"></a>  </span><span class=cB1>return</span><span class=cB0> (<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l110"></span><span class=cB5>SqrI64</a></span><span class=cB7>(</span><span class=cB0>doc-&gt;x-x</span><span class=cB7>)</span><span class=cB0>+<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l110"></span><span class=cB5>SqrI64</a></span><span class=cB7>(</span><span class=cB0>doc-&gt;y-y</span><span class=cB7>)</span><span class=cB0>)*<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4298"></span><span class=cB3>FONT_WIDTH</a></span><span class=cB0>*<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4298"></span><span class=cB3>FONT_WIDTH</a></span><span class=cB0>;
<a name="l7"></a>}
<a name="l8"></a>
<a name="l9"></a></span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l9"></span><span class=cB5>DocDelToNum</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc,</span><span class=cB9>I64</span><span class=cB0> num)
<a name="l10"></a>{
<a name="l11"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1292"></span><span class=cB9>CDocEntry</a></span><span class=cB0> *doc_e=doc-&gt;head.next,*doc_e2;
<a name="l12"></a>  </span><span class=cB1>while</span><span class=cB0> (num--&gt;0 &amp;&amp; doc_e!=doc)
<a name="l13"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l14"></a>    doc_e2=doc_e-&gt;next;
<a name="l15"></a>    </span><span class=cB1>if</span><span class=cB0> (!</span><span class=cB7>(</span><span class=cB0>doc_e-&gt;de_flags &amp; (<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1120"></span><span class=cB3>DOCEF_HOLD</a></span><span class=cB0>|<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1126"></span><span class=cB3>DOCEF_FILTER_SKIP</a></span><span class=cB0>)</span><span class=cB7>)</span><span class=cB0>)
<a name="l16"></a>    {
<a name="l17"></a>      </span><span class=cB1>if</span><span class=cB0> (doc_e==doc-&gt;cur_entry)
<a name="l18"></a>      </span><span class=cB7>{</span><span class=cB0>
<a name="l19"></a>        doc-&gt;cur_entry=doc_e2;
<a name="l20"></a>        doc-&gt;cur_col=doc_e2-&gt;min_col;
<a name="l21"></a>      </span><span class=cB7>}</span><span class=cB0>
<a name="l22"></a>      <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l67"></span><span class=cB5>DocEntryDel</a></span><span class=cB0>(doc,doc_e);
<a name="l23"></a>    }
<a name="l24"></a>    doc_e=doc_e2;
<a name="l25"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l26"></a>}
<a name="l27"></a>
<a name="l28"></a></span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l28"></span><span class=cB5>DocDelToEntry</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1292"></span><span class=cB9>CDocEntry</a></span><span class=cB0> *clear_entry,</span><span class=cB1>Bool</span><span class=cB0> clear_holds)
<a name="l29"></a>{
<a name="l30"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1292"></span><span class=cB9>CDocEntry</a></span><span class=cB0> *doc_e=doc-&gt;head.next,*doc_e2;
<a name="l31"></a>  </span><span class=cB1>while</span><span class=cB0> (doc_e!=doc)
<a name="l32"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l33"></a>    doc_e2=doc_e-&gt;next;
<a name="l34"></a>    </span><span class=cB1>if</span><span class=cB0> (!</span><span class=cB7>(</span><span class=cB0>doc_e-&gt;de_flags &amp; (<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1120"></span><span class=cB3>DOCEF_HOLD</a></span><span class=cB0>|<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1126"></span><span class=cB3>DOCEF_FILTER_SKIP</a></span><span class=cB0>)</span><span class=cB7>)</span><span class=cB0>||clear_holds)
<a name="l35"></a>    {
<a name="l36"></a>      </span><span class=cB1>if</span><span class=cB0> (doc_e==doc-&gt;cur_entry)
<a name="l37"></a>      </span><span class=cB7>{</span><span class=cB0>
<a name="l38"></a>        doc-&gt;cur_entry=doc_e2;
<a name="l39"></a>        doc-&gt;cur_col=doc_e2-&gt;min_col;
<a name="l40"></a>      </span><span class=cB7>}</span><span class=cB0>
<a name="l41"></a>      <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l67"></span><span class=cB5>DocEntryDel</a></span><span class=cB0>(doc,doc_e);
<a name="l42"></a>    }
<a name="l43"></a>    </span><span class=cB1>if</span><span class=cB0> (doc_e==clear_entry)
<a name="l44"></a>      </span><span class=cB1>break</span><span class=cB0>;
<a name="l45"></a>    doc_e=doc_e2;
<a name="l46"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l47"></a>}
<a name="l48"></a>
<a name="l49"></a></span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l49"></span><span class=cB5>DocBorderLstDraw</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc)
<a name="l50"></a>{
<a name="l51"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4004"></span><span class=cB9>CTask</a></span><span class=cB0> *win_task=doc-&gt;win_task;
<a name="l52"></a>  </span><span class=cB9>I64</span><span class=cB0> i,y=-1,attr=win_task-&gt;border_attr&lt;&lt;8;
<a name="l53"></a>  </span><span class=cB9>U64</span><span class=cB0> ch;
<a name="l54"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *tmpl=doc;
<a name="l55"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l148"></span><span class=cB9>CD3I64</a></span><span class=cB0> saved_scroll;
<a name="l56"></a>  </span><span class=cB1>while</span><span class=cB0> (tmpl &amp;&amp; tmpl-&gt;doc_signature==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1457"></span><span class=cB3>DOC_SIGNATURE_VAL</a></span><span class=cB0>)
<a name="l57"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l58"></a>    y+=(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l12"></span><span class=cB5>Bsr</a></span><span class=cB7>(</span><span class=cB0>tmpl-&gt;desc</span><span class=cB7>)</span><span class=cB0>+7)&gt;&gt;3+1; </span><span class=cB2>//StrLen+1</span><span class=cB0>
<a name="l59"></a>    tmpl=tmpl-&gt;parent_doc;
<a name="l60"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l61"></a>  tmpl=doc;
<a name="l62"></a>  </span><span class=cB1>if</span><span class=cB0> (y&gt;win_task-&gt;win_height)
<a name="l63"></a>    y=win_task-&gt;win_height;
<a name="l64"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/Win.html#l179"></span><span class=cB5>WinScrollNull</a></span><span class=cB0>(win_task,&amp;saved_scroll);
<a name="l65"></a>  </span><span class=cB1>while</span><span class=cB0> (tmpl &amp;&amp; tmpl-&gt;doc_signature==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1457"></span><span class=cB3>DOC_SIGNATURE_VAL</a></span><span class=cB0>)
<a name="l66"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l67"></a>    ch=tmpl-&gt;desc;
<a name="l68"></a>    i=(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l12"></span><span class=cB5>Bsr</a></span><span class=cB7>(</span><span class=cB0>ch</span><span class=cB7>)</span><span class=cB0>+7)&gt;&gt;3;   </span><span class=cB2>//StrLen</span><span class=cB0>
<a name="l69"></a>    ch=<a href="http://tinkeros.github.io/WbGit/Kernel/KMisc.html#l25"></span><span class=cB5>EndianI64</a></span><span class=cB0>(ch&lt;&lt;</span><span class=cB7>(</span><span class=cB0>(8-i)&lt;&lt;3</span><span class=cB7>)</span><span class=cB0>);
<a name="l70"></a>    attr=win_task-&gt;border_attr&lt;&lt;8;
<a name="l71"></a>    </span><span class=cB1>while</span><span class=cB0> (i-- &amp;&amp; y&gt;0)
<a name="l72"></a>    {
<a name="l73"></a>      <a href="http://tinkeros.github.io/WbGit/Kernel/GrTextBase.html#l312"></span><span class=cB5>TextChar</a></span><span class=cB0>(win_task,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l22"></span><span class=cB3>TRUE</a></span><span class=cB0>,-1,--y,attr+ch&amp;0xFF);
<a name="l74"></a>      ch&gt;&gt;=8;
<a name="l75"></a>    }
<a name="l76"></a>    y--;
<a name="l77"></a>    tmpl=tmpl-&gt;parent_doc;
<a name="l78"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l79"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/Win.html#l189"></span><span class=cB5>WinScrollRestore</a></span><span class=cB0>(win_task,&amp;saved_scroll);
<a name="l80"></a>}
<a name="l81"></a>
<a name="l82"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l82"></span><span class=cB5>DocTop</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>)
<a name="l83"></a>{</span><span class=cB2>//Move cursor, cur_entry, to top.</span><span class=cB0>
<a name="l84"></a>  </span><span class=cB1>Bool</span><span class=cB0> unlock;
<a name="l85"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l86"></a>    </span><span class=cB1>return</span><span class=cB0>;
<a name="l87"></a>  unlock=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l3"></span><span class=cB5>DocLock</a></span><span class=cB0>(doc);
<a name="l88"></a>  doc-&gt;cur_entry=doc-&gt;head.next;
<a name="l89"></a>  doc-&gt;cur_col=doc-&gt;cur_entry-&gt;min_col;
<a name="l90"></a>  doc-&gt;x=0;
<a name="l91"></a>  doc-&gt;y=0;
<a name="l92"></a>  doc-&gt;line_start_col=0;
<a name="l93"></a>  doc-&gt;top_line_num=0;
<a name="l94"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocForm.html#l3"></span><span class=cB5>DocFormFwd</a></span><span class=cB0>(doc);
<a name="l95"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc);
<a name="l96"></a>  </span><span class=cB1>if</span><span class=cB0> (unlock)
<a name="l97"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l18"></span><span class=cB5>DocUnlock</a></span><span class=cB0>(doc);
<a name="l98"></a>}
<a name="l99"></a>
<a name="l100"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l100"></span><span class=cB5>DocCenter</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>,</span><span class=cB9>I64</span><span class=cB0> recalc_flags=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1459"></span><span class=cB3>RECALCt_NORMAL</a></span><span class=cB0>)
<a name="l101"></a>{</span><span class=cB2>//Center win on doc cursor, cur_entry.</span><span class=cB0>
<a name="l102"></a>  </span><span class=cB1>Bool</span><span class=cB0> unlock;
<a name="l103"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4004"></span><span class=cB9>CTask</a></span><span class=cB0> *task;
<a name="l104"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l105"></a>    </span><span class=cB1>return</span><span class=cB0>;
<a name="l106"></a>  unlock=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l3"></span><span class=cB5>DocLock</a></span><span class=cB0>(doc);
<a name="l107"></a>  task=doc-&gt;win_task;
<a name="l108"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc,recalc_flags);
<a name="l109"></a>  </span><span class=cB1>if</span><span class=cB0> (!</span><span class=cB7>(</span><span class=cB0>doc-&gt;flags&amp;<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1378"></span><span class=cB3>DOCF_BORDER_DOC</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l110"></a>    doc-&gt;top_line_num=doc-&gt;y-(task-&gt;win_height+1)&gt;&gt;1;
<a name="l111"></a>  </span><span class=cB1>if</span><span class=cB0> (unlock)
<a name="l112"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l18"></span><span class=cB5>DocUnlock</a></span><span class=cB0>(doc);
<a name="l113"></a>}
<a name="l114"></a>
<a name="l115"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l115"></span><span class=cB5>DocBottom</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>)
<a name="l116"></a>{</span><span class=cB2>//Move cursor, cur_entry, to bottom.</span><span class=cB0>
<a name="l117"></a>  </span><span class=cB1>Bool</span><span class=cB0> unlock;
<a name="l118"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l119"></a>    </span><span class=cB1>return</span><span class=cB0>;
<a name="l120"></a>  unlock=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l3"></span><span class=cB5>DocLock</a></span><span class=cB0>(doc);
<a name="l121"></a>  doc-&gt;cur_entry=doc;
<a name="l122"></a>  doc-&gt;cur_col=0;
<a name="l123"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc);
<a name="l124"></a>  </span><span class=cB1>if</span><span class=cB0> (unlock)
<a name="l125"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l18"></span><span class=cB5>DocUnlock</a></span><span class=cB0>(doc);
<a name="l126"></a>}
<a name="l127"></a>
<a name="l128"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l128"></span><span class=cB5>DocClear</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>,</span><span class=cB1>Bool</span><span class=cB0> clear_holds=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l23"></span><span class=cB3>FALSE</a></span><span class=cB0>)
<a name="l129"></a>{</span><span class=cB2>//Clear all doc entries, except +H, hold entries.</span><span class=cB0>
<a name="l130"></a>  </span><span class=cB1>Bool</span><span class=cB0> unlock;
<a name="l131"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l132"></a>    </span><span class=cB1>return</span><span class=cB0>;
<a name="l133"></a>  unlock=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l3"></span><span class=cB5>DocLock</a></span><span class=cB0>(doc);
<a name="l134"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l115"></span><span class=cB5>DocBottom</a></span><span class=cB0>(doc);
<a name="l135"></a>  </span><span class=cB1>if</span><span class=cB0> (clear_holds)
<a name="l136"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocPutS.html#l168"></span><span class=cB5>DocPrint</a></span><span class=cB0>(doc,</span><span class=cB6>&quot;$CL+H$&quot;</span><span class=cB0>);
<a name="l137"></a>  </span><span class=cB1>else</span><span class=cB0>
<a name="l138"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocPutS.html#l168"></span><span class=cB5>DocPrint</a></span><span class=cB0>(doc,</span><span class=cB6>&quot;$CL$&quot;</span><span class=cB0>);
<a name="l139"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc);
<a name="l140"></a>  </span><span class=cB1>if</span><span class=cB0> (unlock)
<a name="l141"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l18"></span><span class=cB5>DocUnlock</a></span><span class=cB0>(doc);
<a name="l142"></a>}
<a name="l143"></a>
<a name="l144"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>Bool</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l144"></span><span class=cB5>DocCursor</a></span><span class=cB0>(</span><span class=cB1>Bool</span><span class=cB0> show=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l25"></span><span class=cB3>OFF</a></span><span class=cB0>,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>)
<a name="l145"></a>{</span><span class=cB2>//Show or hide cursor.</span><span class=cB0>
<a name="l146"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l147"></a>    </span><span class=cB1>return</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l23"></span><span class=cB3>FALSE</a></span><span class=cB0>;
<a name="l148"></a>  </span><span class=cB1>return</span><span class=cB0> !<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l34"></span><span class=cB5>LBEqu</a></span><span class=cB0>(&amp;doc-&gt;flags,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1418"></span><span class=cB3>DOCf_HIDE_CURSOR</a></span><span class=cB0>,!show);
<a name="l149"></a>}
<a name="l150"></a>
<a name="l151"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>Bool</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l151"></span><span class=cB5>DocHighlightCursor</a></span><span class=cB0>(</span><span class=cB1>Bool</span><span class=cB0> show=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l25"></span><span class=cB3>OFF</a></span><span class=cB0>,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>)
<a name="l152"></a>{</span><span class=cB2>//Highlight or Don't highlight cursor.</span><span class=cB0>
<a name="l153"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l154"></a>    </span><span class=cB1>return</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l23"></span><span class=cB3>FALSE</a></span><span class=cB0>;
<a name="l155"></a>  </span><span class=cB1>return</span><span class=cB0> !<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l34"></span><span class=cB5>LBEqu</a></span><span class=cB0>(&amp;doc-&gt;flags,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1419"></span><span class=cB3>DOCf_DONT_HIGHLIGHT_CURSOR</a></span><span class=cB0>,!show);
<a name="l156"></a>}
<a name="l157"></a>
<a name="l158"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>Bool</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l158"></span><span class=cB5>DocScroll</a></span><span class=cB0>(</span><span class=cB1>Bool</span><span class=cB0> val=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l25"></span><span class=cB3>OFF</a></span><span class=cB0>,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>)
<a name="l159"></a>{</span><span class=cB2>//Turn scroll bars OFF/ON.</span><span class=cB0>
<a name="l160"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l161"></a>    </span><span class=cB1>return</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l23"></span><span class=cB3>FALSE</a></span><span class=cB0>;
<a name="l162"></a>  </span><span class=cB1>return</span><span class=cB0> !<a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l34"></span><span class=cB5>LBEqu</a></span><span class=cB0>(&amp;doc-&gt;flags,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1420"></span><span class=cB3>DOCf_NO_SCROLL_BARS</a></span><span class=cB0>,!val);
<a name="l163"></a>}
<a name="l164"></a>
<a name="l165"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l165"></span><span class=cB5>DocCollapse</a></span><span class=cB0>(</span><span class=cB1>Bool</span><span class=cB0> collapse=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l22"></span><span class=cB3>TRUE</a></span><span class=cB0>,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l21"></span><span class=cB3>NULL</a></span><span class=cB0>)
<a name="l166"></a>{</span><span class=cB2>//Collapse or uncollapse all tree widgets.</span><span class=cB0>
<a name="l167"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1292"></span><span class=cB9>CDocEntry</a></span><span class=cB0> *doc_e;
<a name="l168"></a>  </span><span class=cB1>Bool</span><span class=cB0> unlock;
<a name="l169"></a>  </span><span class=cB1>if</span><span class=cB0> (!doc &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l170"></a>    </span><span class=cB1>return</span><span class=cB0>;
<a name="l171"></a>  unlock=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l3"></span><span class=cB5>DocLock</a></span><span class=cB0>(doc);
<a name="l172"></a>  doc_e=doc-&gt;head.next;
<a name="l173"></a>  </span><span class=cB1>while</span><span class=cB0> (doc_e!=doc)
<a name="l174"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l175"></a>    </span><span class=cB1>if</span><span class=cB0> (doc_e-&gt;de_flags&amp;<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1121"></span><span class=cB3>DOCEF_TREE</a></span><span class=cB0>)
<a name="l176"></a>      <a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l28"></span><span class=cB5>BEqu</a></span><span class=cB0>(&amp;doc_e-&gt;de_flags,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1198"></span><span class=cB3>DOCEf_CHECKED_COLLAPSED</a></span><span class=cB0>,collapse);
<a name="l177"></a>    doc_e=doc_e-&gt;next;
<a name="l178"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l179"></a>  <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc);
<a name="l180"></a>  </span><span class=cB1>if</span><span class=cB0> (unlock)
<a name="l181"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocNew.html#l18"></span><span class=cB5>DocUnlock</a></span><span class=cB0>(doc);
<a name="l182"></a>}
<a name="l183"></a>
<a name="l184"></a>#</span><span class=cB1>help_index</span><span class=cB0> </span><span class=cB6>&quot;DolDoc/Cmd Line (Typically);Cmd Line (Typically)&quot;</span><span class=cB0>
<a name="l185"></a></span><span class=cB1>public</span><span class=cB0> </span><span class=cB9>I64</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l185"></span><span class=cB5>DocMax</a></span><span class=cB0>(</span><span class=cB9>I64</span><span class=cB0> i=<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l39"></span><span class=cB3>I64_MAX</a></span><span class=cB0>)
<a name="l186"></a>{</span><span class=cB2>//Set max document entries. (Cmd line buffer size.)</span><span class=cB0>
<a name="l187"></a></span><span class=cB2>//Adjusts the size of the cmd line buf.</span><span class=cB0>
<a name="l188"></a>  </span><span class=cB2>//Normally, the cmd line deletes entries</span><span class=cB0>
<a name="l189"></a>  </span><span class=cB2>//when more are added and the old scroll up.</span><span class=cB0>
<a name="l190"></a>  </span><span class=cB2>//See </span><a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocTerm.html#l43"><span class=cB4>max_entries</span></a><span class=cB2>.</span><span class=cB0>
<a name="l191"></a>  </span><span class=cB9>I64</span><span class=cB0> res;
<a name="l192"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc;
<a name="l193"></a>  </span><span class=cB1>if</span><span class=cB0> (doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l2"></span><span class=cB5>DocPut</a></span><span class=cB0>)
<a name="l194"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l195"></a>    res=doc-&gt;max_entries;
<a name="l196"></a>    doc-&gt;max_entries=i;
<a name="l197"></a>    </span><span class=cB1>return</span><span class=cB0> res;
<a name="l198"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l199"></a>  </span><span class=cB1>else</span><span class=cB0>
<a name="l200"></a>    </span><span class=cB1>return</span><span class=cB0> 0;
<a name="l201"></a>}
<a name="l202"></a>
<a name="l203"></a>#</span><span class=cB1>help_index</span><span class=cB0> </span><span class=cB6>&quot;DolDoc/Task;StdOut/Task&quot;</span><span class=cB0>
<a name="l204"></a></span><span class=cB1>U0</span><span class=cB0> <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalcLib.html#l204"></span><span class=cB5>DocUpdateTaskDocs</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l4004"></span><span class=cB9>CTask</a></span><span class=cB0> *task)
<a name="l205"></a>{</span><span class=cB2>//This is called from </span><a href="http://tinkeros.github.io/WbGit/Adam/Gr/GrScrn.html#l60"><span class=cB4>GrUpdateTaskWin</span></a><span class=cB2>() by the winmgr at 30fps.</span><span class=cB0>
<a name="l206"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1468"></span><span class=cB9>CDoc</a></span><span class=cB0> *doc;
<a name="l207"></a>  <a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l148"></span><span class=cB9>CD3I64</a></span><span class=cB0> saved_scroll;
<a name="l208"></a>  </span><span class=cB1>if</span><span class=cB0> (task-&gt;border_src==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l3951"></span><span class=cB3>BDS_CUR_DRV</a></span><span class=cB0> &amp;&amp; task-&gt;cur_dv)
<a name="l209"></a>    task-&gt;border_attr=<a href="http://tinkeros.github.io/WbGit/Kernel/BlkDev/DskDrv.html#l339"></span><span class=cB5>DrvTextAttrGet</a></span><span class=cB0>(<a href="http://tinkeros.github.io/WbGit/Kernel/BlkDev/DskDrv.html#l169"></span><span class=cB5>Drv2Let</a></span><span class=cB7>(</span><span class=cB0>task-&gt;cur_dv</span><span class=cB7>)</span><span class=cB0>);
<a name="l210"></a>  </span><span class=cB1>if</span><span class=cB0> (task-&gt;title_src==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l3957"></span><span class=cB3>TTS_TASK_NAME</a></span><span class=cB0>)
<a name="l211"></a>    <a href="http://tinkeros.github.io/WbGit/Kernel/StrA.html#l323"></span><span class=cB5>StrCpy</a></span><span class=cB0>(task-&gt;task_title,task-&gt;task_name);
<a name="l212"></a>  </span><span class=cB1>if</span><span class=cB0> (</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l15"></span><span class=cB5>DocDisplay</a></span><span class=cB0>(task)</span><span class=cB7>)</span><span class=cB0> &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc-&gt;flags&amp;<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1385"></span><span class=cB3>DOCF_DONT_SHOW</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l213"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l214"></a>    </span><span class=cB1>if</span><span class=cB0> (task-&gt;border_src==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l3952"></span><span class=cB3>BDS_ED_FILENAME_DRV</a></span><span class=cB0>)
<a name="l215"></a>      task-&gt;border_attr=<a href="http://tinkeros.github.io/WbGit/Kernel/BlkDev/DskDrv.html#l339"></span><span class=cB5>DrvTextAttrGet</a></span><span class=cB0>(*doc-&gt;filename.name);
<a name="l216"></a>    </span><span class=cB1>if</span><span class=cB0> (task-&gt;title_src==<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l3958"></span><span class=cB3>TTS_ED_FILENAME</a></span><span class=cB0>)
<a name="l217"></a>      <a href="http://tinkeros.github.io/WbGit/Kernel/KernelB.html#l172"></span><span class=cB5>MemCpy</a></span><span class=cB0>(task-&gt;task_title,doc-&gt;filename.name,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l43"></span><span class=cB3>STR_LEN</a></span><span class=cB0>-1);
<a name="l218"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1461"></span><span class=cB3>RECALCt_TO_SCRN</a></span><span class=cB0>|<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1464"></span><span class=cB3>RECALCF_HAS_CURSOR</a></span><span class=cB0>);
<a name="l219"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l220"></a>  </span><span class=cB1>if</span><span class=cB0> (</span><span class=cB7>(</span><span class=cB0>doc=<a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocDblBuf.html#l25"></span><span class=cB5>DocBorder</a></span><span class=cB0>(task)</span><span class=cB7>)</span><span class=cB0> &amp;&amp; !</span><span class=cB7>(</span><span class=cB0>doc-&gt;flags&amp;<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1385"></span><span class=cB3>DOCF_DONT_SHOW</a></span><span class=cB7>)</span><span class=cB0>)
<a name="l221"></a>  </span><span class=cB7>{</span><span class=cB0>
<a name="l222"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/Win.html#l179"></span><span class=cB5>WinScrollNull</a></span><span class=cB0>(task,&amp;saved_scroll);
<a name="l223"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/DolDoc/DocRecalc.html#l294"></span><span class=cB5>DocRecalc</a></span><span class=cB0>(doc,<a href="http://tinkeros.github.io/WbGit/Kernel/KernelA.html#l1461"></span><span class=cB3>RECALCt_TO_SCRN</a></span><span class=cB0>);
<a name="l224"></a>    <a href="http://tinkeros.github.io/WbGit/Adam/Win.html#l189"></span><span class=cB5>WinScrollRestore</a></span><span class=cB0>(task,&amp;saved_scroll);
<a name="l225"></a>  </span><span class=cB7>}</span><span class=cB0>
<a name="l226"></a>}
</span></div></pre></body>
</html>
